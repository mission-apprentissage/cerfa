FROM node:16-alpine

WORKDIR /app

# Map arguments to react-scripts env variables
ARG REACT_APP_ENV
ARG REACT_APP_BASE_URL
ARG REACT_APP_BASE_HOST
ARG REACT_APP_METABASE_URL
ARG REACT_APP_METABASE_SECRET_KEY
ENV REACT_APP_ENV=$REACT_APP_ENV
ENV REACT_APP_BASE_URL=$REACT_APP_BASE_URL
ENV REACT_APP_BASE_HOST=$REACT_APP_BASE_HOST
ENV REACT_APP_METABASE_URL=$REACT_APP_METABASE_URL
ENV REACT_APP_METABASE_SECRET_KEY=$REACT_APP_METABASE_SECRET_KEY

EXPOSE 3000
CMD yarn docker-dev
